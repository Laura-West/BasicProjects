<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Cat Quote Widget</title>
    <link rel="stylesheet" href="styles.css" />
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: sans-serif;
            background-color: var(--bg-color);
            color: var(--font-color);
            transition: background-color 0.5s, color 0.5s;
        }

        .widget {
            width: min(720px, 92vw);
            border-radius: 12px;
            border: 2px solid var(--header-color);
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            background-color: var(--bg-color);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: background-color 0.5s, border-color 0.5s;
        }

        .cat {
            font-size: 3em;
            color: var(--accent-color);
            transition: color 0.5s;
        }

        .cat-quote {
            font-family: var(--font-family);
            font-size: 1.8em;
            line-height: 1.4;
            color: var(--font-color);
            text-align: center;
            transition: color 0.5s;
        }
    </style>
    <script src="config.js"></script>
</head>

<body>
    <div class="widget">
        <div id="catEmoji" class="cat"></div>
        <div id="quote" class="cat-quote"></div>
    </div>

    <script>
        const QUOTES = [
            "Purr-fectly productive.",
            "Stay paw-sitive!",
            "One task at a time… like batting toys under the couch.",
            "Stay paw-sitive, you’re claw-ing through it!",
            "Tackle your tasks, then enjoy a cozy nap.",
            "Tasks today, catnap later.",
            "Conquer the list, claim the sunny spot.",
            "Less hiss, more bliss—get it done.",
            "Whisker by whisker, you’re making progress."
        ];

        const EMOJIS = ["🐱", "🐈", "🐈‍⬛", "🐾", "😸"];

        const quoteEl = document.getElementById('quote');
        const catEl = document.getElementById('catEmoji');

        let index = 0;

        function render(nextIndex) {
            index = (nextIndex + QUOTES.length) % QUOTES.length;
            quoteEl.textContent = QUOTES[index];
            catEl.textContent = EMOJIS[Math.floor(Math.random() * EMOJIS.length)];
        }

        function initializeWidget() {
            // Check if the widgetConfig object exists and apply settings
            if (typeof widgetConfig !== 'undefined') {
                if (widgetConfig.theme) {
                    document.body.className = widgetConfig.theme;
                }
                if (widgetConfig.alignment) {
                    quoteEl.style.textAlign = widgetConfig.alignment;
                }
            } else {
                // Fallback to a default theme if config.js is not loaded
                document.body.className = 'gilded-iris-theme';
            }
            render(0);
            setInterval(() => render(index + 1), 30000); // 30000ms = 30 seconds
        }
        initializeWidget();
    </script>
</body>

</html>