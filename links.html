<!DOCTYPE html>
<html lang="en-AU">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quick Links Widget</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      font-family: var(--font-family);
      background-color: transparent;
    }

    .widget {
      width: min(420px, 94vw);
      background-color: var(--primary-bg-color);
      color: var(--primary-text-color);
      border-radius: 12px;
      border: 2px solid var(--secondary-bg-color);
      padding: 24px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 16px;
      transition: background-color 0.4s, color 0.4s, border-color 0.4s;
    }

    h2.widget-title {
      font-size: clamp(1.2rem, 4vw, 1.6rem);
      font-weight: 700;
      margin-bottom: 8px;
      color: var(--primary-text-color);
      text-align: var(--text-alignment, center);
      width: 100%;
    }

    ul.link-list {
      list-style: none;
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 10px;
      padding: 0;
    }

    .link-item a {
      display: block;
      padding: 12px 16px;
      border-radius: 8px;
      text-decoration: none;
      font-size: clamp(0.9rem, 3vw, 1.1rem);
      font-weight: 600;
      color: var(--primary-bg-color);
      background-color: var(--accent-color);
      text-align: var(--text-alignment, center);
      transition: filter 0.2s, transform 0.1s;
    }
    .link-item a:hover { filter: brightness(110%); }
    .link-item a:active { transform: scale(0.97); filter: brightness(95%); }

    .error { color: #d32f2f; font-style: italic; }
  </style>
</head>
<body>
  <div id="links-container" class="widget">
    <h2 class="widget-title">Quick Links</h2>
    <ul id="link-list" class="link-list">
      <li class="link-item error">Loading links...</li>
    </ul>
  </div>

  <script src="config.js"></script>
  <script src="widget.js"></script>
  <script>
    function loadLinks(config) {
      const container = document.getElementById('links-container');
      const list = document.getElementById('link-list');
      const title = container.querySelector('.widget-title');

      container.classList.add(config.theme);
      container.style.setProperty('--text-alignment', config.alignment || 'center');

      const cfg = config.linksConfig || { title: 'Quick Links', links: [] };
      title.textContent = cfg.title || 'Quick Links';
      list.innerHTML = '';

      if (Array.isArray(cfg.links) && cfg.links.length > 0) {
        cfg.links.forEach(link => {
          const li = document.createElement('li');
          li.className = 'link-item';
          const a = document.createElement('a');
          a.href = link.url;
          a.textContent = link.label;
          a.target = '_blank';
          li.appendChild(a);
          list.appendChild(li);
        });
      } else {
        list.innerHTML = '<li class="link-item error">No links configured.</li>';
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      initializeWidget(loadLinks);
    });
  </script>
</body>
</html>
